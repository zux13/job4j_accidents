<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head th:replace="fragments/header :: header('Главная')"></head>
<body>
<div th:replace="fragments/nav :: nav"></div>

<div class="container mt-4">
    <h1 class="mb-4">Поиск автонарушений</h1>

    <form class="mb-3">
        <div class="input-group">
            <input type="text" class="form-control" placeholder="Введите адрес, номер авто или статус...">
            <button class="btn btn-primary" type="submit">Поиск</button>
        </div>
    </form>

    <table class="table table-striped">
        <thead class="table-dark">
        <tr>
            <th>ID</th>
            <th>Адрес</th>
            <th>Номер авто</th>
            <th>Описание</th>
            <th>Тип</th>
            <th>Статус</th>
            <th>Фото</th>
            <th>Действия</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="accident : ${accidents}">
            <td th:text="${accident.id}">1</td>
            <td th:text="${accident.address}">ул. Пушкина</td>
            <td th:text="${accident.name}">А123БВ</td>
            <td th:text="${accident.text}">Проезд на красный</td>
            <td th:text="${accident.type.name}">Проезд на красный</td>
            <td><span class="badge bg-secondary">Ожидает</span></td>
            <td>—</td>
            <td><a th:href="@{|/edit?id=${accident.id}|}" class="btn btn-sm btn-outline-primary">Редактировать</a></td>
        </tr>
        <tr th:if="${accidents.isEmpty()}">
            <td colspan="7" class="text-center text-muted">Заявления пока не добавлены</td>
        </tr>
        </tbody>
    </table>

    <div class="text-end">
        <a th:href="@{/create}" class="btn btn-success">➕ Добавить заявление</a>
    </div>
</div>

<div th:replace="fragments/footer :: footer"></div>
</body>
</html>
